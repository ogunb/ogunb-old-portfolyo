"use strict";var _createClass=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var canvas=document.querySelector(".noise"),ctx=canvas.getContext("2d");function load(){canvas=document.querySelector(".noise"),(ctx=canvas.getContext("2d")).fillStyle="#f7f7f",requestAnimationFrame(render)}function render(){requestAnimationFrame(render),ctx.clearRect(0,0,canvas.width,canvas.height),tvstatic(canvas,ctx,2)}canvas.width=window.innerWidth,canvas.height=window.innerHeight,window.addEventListener("resize",function(){canvas.width=window.innerWidth,canvas.height=window.innerHeight}),function(){var a=document.createElement("canvas"),l=a.getContext("2d"),r=100,o=100;function h(e){return Math.floor(Math.random()*e)}a.width=r,a.height=o,a.fillStyle="#000",window.tvstatic=function(e,t,i){i=i||1,e.height,e.width,l.clearRect(0,0,r,o);for(var n=0;n<r;n+=i)for(var s=0;s<o;s+=i)Math.round(Math.random())&&l.fillRect(n,s,i,i);for(n=0;n<e.width;n+=r)for(s=0;s<e.height;s+=o)t.drawImage(a,n,s);for(s=h(10);s<e.height;s+=h(10))t.fillRect(0,s,e.width,h(3))}}(),window.addEventListener("load",load,!1),window.addEventListener("scroll",function(){var e=Array.from(document.querySelectorAll(".cardimg__item")),i=document.querySelector("body"),t=document.querySelector(".contact"),n=document.querySelector(".logo svg .c"),s=document.querySelector(".logo svg .d"),a=Array.from(document.querySelectorAll(".nav ul li a"));if(3.1*window.pageYOffset>canvas.height)for(var l=0;l<e.length;l++)e[l].classList.add("cardimg--reveal");function r(){if(window.pageYOffset+50>canvas.height){if(i.style.backgroundColor="var(--bookopus)",900<canvas.width){n.style.fill="var(--light)",s.style.stroke="var(--dark)";for(var e=0;e<a.length;e++)a[e].style.color="var(--dark)"}}else if(i.style.backgroundColor="var(--light)",900<canvas.width){n.style.fill="var(--cta)",s.style.stroke="var(--dark)";for(var t=0;t<a.length;t++)a[t].style.color="var(--dark)"}}if(r(),window.pageYOffset+t.scrollHeight-450>canvas.height+t.scrollHeight){if(i.style.backgroundColor="var(--dark)",900<canvas.width){n.style.fill="var(--cta)",s.style.stroke="var(--light)";for(var o=0;o<a.length;o++)a[o].style.color="var(--light)"}}else(window.pageYOffset+200>canvas.height||window.pageYOffset+t.scrollHeight-900<canvas.height+t.scrollHeight)&&r()});var menu=document.querySelector(".mobile-nav--menu");menu.addEventListener("click",function(){var e=document.querySelector(".mobile-nav .logo .c"),t=document.querySelector("body"),i=document.querySelector(".mobile-nav__links");function n(){e.style.fill="var(--cta)",t.style.overflowY="visible",i.style.opacity="0",i.style.transform="scale(1, 0)"}menu.classList.toggle("active"),!0===menu.classList.contains("active")?(e.style.fill="var(--light)",t.style.overflowY="hidden",i.style.opacity="1",i.style.transform="scale(1)"):n(),i.addEventListener("click",function(){menu.classList.remove("active"),n()})});var aboutTriDesk=document.querySelector("#desktop--about"),aboutTriMob=document.querySelector("#desktop--mobile");function openAbout(){var e=document.querySelector(".logo svg .c"),t=document.querySelector(".about"),i=document.querySelector(".about__close");t.classList.add("about--active"),!0===t.classList.contains("about--active")?(aboutTriDesk.classList.add("highlight"),e.style.fill="var(--light)"):(e.style.fill="var(--cta)",aboutTriDesk.classList.remove("highlight")),i.addEventListener("click",function(){t.classList.remove("about--active"),e.style.fill="var(--cta)",aboutTriDesk.classList.remove("highlight")})}function bodyOverflow(){var e=document.querySelector("body"),t=document.querySelector(".about"),i=document.querySelector(".about__close");!0===t.classList.contains("about--active")?e.style.overflowX="hidden":e.style.overflowX="visible",i.addEventListener("click",function(){e.style.overflowX="visible"})}aboutTriDesk.addEventListener("click",openAbout),aboutTriMob.addEventListener("click",function(){openAbout(),bodyOverflow()});var VanillaTilt=function(){var e=function(){function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(_classCallCheck(this,i),!(e instanceof Node))throw"Can't initialize VanillaTilt because "+e+" is not a Node.";this.width=null,this.height=null,this.left=null,this.top=null,this.transitionTimeout=null,this.updateCall=null,this.updateBind=this.update.bind(this),this.resetBind=this.reset.bind(this),this.element=e,this.settings=this.extendSettings(t),this.reverse=this.settings.reverse?-1:1,this.glare=this.isSettingTrue(this.settings.glare),this.glarePrerender=this.isSettingTrue(this.settings["glare-prerender"]),this.glare&&this.prepareGlare(),this.addEventListeners()}return _createClass(i,[{key:"isSettingTrue",value:function(e){return""===e||!0===e||1===e}},{key:"addEventListeners",value:function(){this.onMouseEnterBind=this.onMouseEnter.bind(this),this.onMouseMoveBind=this.onMouseMove.bind(this),this.onMouseLeaveBind=this.onMouseLeave.bind(this),this.onWindowResizeBind=this.onWindowResizeBind.bind(this),this.element.addEventListener("mouseenter",this.onMouseEnterBind),this.element.addEventListener("mousemove",this.onMouseMoveBind),this.element.addEventListener("mouseleave",this.onMouseLeaveBind),this.glare&&window.addEventListener("resize",this.onWindowResizeBind)}},{key:"removeEventListeners",value:function(){this.element.removeEventListener("mouseenter",this.onMouseEnterBind),this.element.removeEventListener("mousemove",this.onMouseMoveBind),this.element.removeEventListener("mouseleave",this.onMouseLeaveBind),this.glare&&window.removeEventListener("resize",this.onWindowResizeBind)}},{key:"destroy",value:function(){clearTimeout(this.transitionTimeout),null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.reset(),this.removeEventListeners(),this.element.vanillaTilt=null,delete this.element.vanillaTilt,this.element=null}},{key:"onMouseEnter",value:function(e){this.updateElementPosition(),this.element.style.willChange="transform",this.setTransition()}},{key:"onMouseMove",value:function(e){null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.event=e,this.updateCall=requestAnimationFrame(this.updateBind)}},{key:"onMouseLeave",value:function(e){this.setTransition(),this.settings.reset&&requestAnimationFrame(this.resetBind)}},{key:"reset",value:function(){this.event={pageX:this.left+this.width/2,pageY:this.top+this.height/2},this.element.style.transform="perspective("+this.settings.perspective+"px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)",this.glare&&(this.glareElement.style.transform="rotate(180deg) translate(-50%, -50%)",this.glareElement.style.opacity="0")}},{key:"getValues",value:function(){var e=(this.event.clientX-this.left)/this.width,t=(this.event.clientY-this.top)/this.height;return e=Math.min(Math.max(e,0),1),t=Math.min(Math.max(t,0),1),{tiltX:(this.reverse*(this.settings.max/2-e*this.settings.max)).toFixed(2),tiltY:(this.reverse*(t*this.settings.max-this.settings.max/2)).toFixed(2),percentageX:100*e,percentageY:100*t,angle:Math.atan2(this.event.clientX-(this.left+this.width/2),-(this.event.clientY-(this.top+this.height/2)))*(180/Math.PI)}}},{key:"updateElementPosition",value:function(){var e=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=e.left,this.top=e.top}},{key:"update",value:function(){var e=this.getValues();this.element.style.transform="perspective("+this.settings.perspective+"px) rotateX("+("x"===this.settings.axis?0:e.tiltY)+"deg) rotateY("+("y"===this.settings.axis?0:e.tiltX)+"deg) scale3d("+this.settings.scale+", "+this.settings.scale+", "+this.settings.scale+")",this.glare&&(this.glareElement.style.transform="rotate("+e.angle+"deg) translate(-50%, -50%)",this.glareElement.style.opacity=""+e.percentageY*this.settings["max-glare"]/100),this.element.dispatchEvent(new CustomEvent("tiltChange",{detail:e})),this.updateCall=null}},{key:"prepareGlare",value:function(){if(!this.glarePrerender){var e=document.createElement("div");e.classList.add("js-tilt-glare");var t=document.createElement("div");t.classList.add("js-tilt-glare-inner"),e.appendChild(t),this.element.appendChild(e)}this.glareElementWrapper=this.element.querySelector(".js-tilt-glare"),this.glareElement=this.element.querySelector(".js-tilt-glare-inner"),this.glarePrerender||(Object.assign(this.glareElementWrapper.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden"}),Object.assign(this.glareElement.style,{position:"absolute",top:"50%",left:"50%","pointer-events":"none","background-image":"linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)",width:2*this.element.offsetWidth+"px",height:2*this.element.offsetWidth+"px",transform:"rotate(180deg) translate(-50%, -50%)","transform-origin":"0% 0%",opacity:"0"}))}},{key:"updateGlareSize",value:function(){Object.assign(this.glareElement.style,{width:""+2*this.element.offsetWidth,height:""+2*this.element.offsetWidth})}},{key:"onWindowResizeBind",value:function(){this.updateGlareSize()}},{key:"setTransition",value:function(){var e=this;clearTimeout(this.transitionTimeout),this.element.style.transition=this.settings.speed+"ms "+this.settings.easing,this.glare&&(this.glareElement.style.transition="opacity "+this.settings.speed+"ms "+this.settings.easing),this.transitionTimeout=setTimeout(function(){e.element.style.transition="",e.glare&&(e.glareElement.style.transition="")},this.settings.speed)}},{key:"extendSettings",value:function(e){var t={reverse:!1,max:35,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:"1",speed:"300",transition:!0,axis:null,glare:!1,"max-glare":1,"glare-prerender":!1,reset:!0},i={};for(var n in t)if(n in e)i[n]=e[n];else if(this.element.hasAttribute("data-tilt-"+n)){var s=this.element.getAttribute("data-tilt-"+n);try{i[n]=JSON.parse(s)}catch(t){i[n]=s}}else i[n]=t[n];return i}}],[{key:"init",value:function(e,t){e instanceof Node&&(e=[e]),e instanceof NodeList&&(e=[].slice.call(e)),e instanceof Array&&e.forEach(function(e){"vanillaTilt"in e||(e.vanillaTilt=new i(e,t))})}}]),i}();return"undefined"!=typeof document&&(window.VanillaTilt=e).init(document.querySelectorAll("[data-tilt]")),e}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsInZlbmRvcnMvdmFuaWxsYS10aWx0Lm1pbi5qcyJdLCJuYW1lcyI6WyJjYW52YXMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjdHgiLCJnZXRDb250ZXh0IiwibG9hZCIsIndpbmRvdyIsImNsZWFyUmVjdCIsIndpZHRoIiwiaGVpZ2h0IiwidHZzdGF0aWMiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJhZGRFdmVudExpc3RlbmVyIiwiV0lEVEgiLCJyYW5kIiwibnVtIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiYnVmZmVyY2FudmFzIiwiSEVJR0hUIiwiZmlsbFN0eWxlIiwiYnVmZmVyY3R4IiwieCIsInNjYWxlIiwieSIsImZpbGxSZWN0IiwiZHJhd0ltYWdlIiwiY2FyZEl0ZW0iLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiY29udGFjdCIsImxvZ29Jbm5lciIsImxvZ29PdXRlciIsInBhZ2VZT2Zmc2V0IiwiaSIsImxlbmd0aCIsImNsYXNzTGlzdCIsImFkZCIsImNoZWNrV29ya3MiLCJib2R5Iiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJmaWxsIiwic3Ryb2tlIiwibGlua3MiLCJjb2xvciIsInNjcm9sbEhlaWdodCIsIm1lbnUiLCJsb2dvIiwidHJhbnNmb3JtIiwidG9nZ2xlIiwiY29udGFpbnMiLCJvdmVyZmxvd1kiLCJvcGFjaXR5IiwicmVtb3ZlIiwiYWJvdXRUcmlEZXNrIiwib3BlbkFib3V0IiwiYWJvdXRUcmlNb2IiLCJib2R5T3ZlcmZsb3ciLCJhYm91dCIsImNsb3NlIiwib3ZlcmZsb3dYIiwiY2xvc2VUYWIiLCJWYW5pbGxhVGlsdCIsInQiLCJlIiwiYXJndW1lbnRzIiwidW5kZWZpbmVkIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIk5vZGUiLCJsZWZ0IiwidG9wIiwidHJhbnNpdGlvblRpbWVvdXQiLCJ1cGRhdGVDYWxsIiwidXBkYXRlQmluZCIsInVwZGF0ZSIsImJpbmQiLCJyZXNldEJpbmQiLCJyZXNldCIsImVsZW1lbnQiLCJzZXR0aW5ncyIsImV4dGVuZFNldHRpbmdzIiwicmV2ZXJzZSIsImdsYXJlIiwiaXNTZXR0aW5nVHJ1ZSIsImdsYXJlUHJlcmVuZGVyIiwicHJlcGFyZUdsYXJlIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJfY3JlYXRlQ2xhc3MiLCJrZXkiLCJ2YWx1ZSIsIm9uTW91c2VFbnRlckJpbmQiLCJvbk1vdXNlRW50ZXIiLCJvbk1vdXNlTW92ZUJpbmQiLCJvbk1vdXNlTW92ZSIsIm9uTW91c2VMZWF2ZUJpbmQiLCJvbk1vdXNlTGVhdmUiLCJvbldpbmRvd1Jlc2l6ZUJpbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2xlYXJUaW1lb3V0IiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJyZW1vdmVFdmVudExpc3RlbmVycyIsInZhbmlsbGFUaWx0IiwidXBkYXRlRWxlbWVudFBvc2l0aW9uIiwid2lsbENoYW5nZSIsInNldFRyYW5zaXRpb24iLCJldmVudCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInBhZ2VYIiwicGFnZVkiLCJwZXJzcGVjdGl2ZSIsImdsYXJlRWxlbWVudCIsImNsaWVudFgiLCJjbGllbnRZIiwibWluIiwibWF4IiwidGlsdFgiLCJ0b0ZpeGVkIiwidGlsdFkiLCJwZXJjZW50YWdlWCIsInBlcmNlbnRhZ2VZIiwiYW5nbGUiLCJhdGFuMiIsIlBJIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwib2Zmc2V0V2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJnZXRWYWx1ZXMiLCJheGlzIiwiZGlzcGF0Y2hFdmVudCIsIkN1c3RvbUV2ZW50IiwiZGV0YWlsIiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwiZ2xhcmVFbGVtZW50V3JhcHBlciIsIk9iamVjdCIsImFzc2lnbiIsInBvc2l0aW9uIiwib3ZlcmZsb3ciLCJwb2ludGVyLWV2ZW50cyIsImJhY2tncm91bmQtaW1hZ2UiLCJ0cmFuc2Zvcm0tb3JpZ2luIiwidXBkYXRlR2xhcmVTaXplIiwiX3RoaXMiLCJ0cmFuc2l0aW9uIiwic3BlZWQiLCJlYXNpbmciLCJzZXRUaW1lb3V0IiwibWF4LWdsYXJlIiwiZ2xhcmUtcHJlcmVuZGVyIiwicyIsImhhc0F0dHJpYnV0ZSIsImdldEF0dHJpYnV0ZSIsIkpTT04iLCJwYXJzZSIsIk5vZGVMaXN0Iiwic2xpY2UiLCJjYWxsIiwiZm9yRWFjaCIsImluaXQiXSwibWFwcGluZ3MiOiI2WEFDQSxJQUFBQSxPQUFBQyxTQUFBQyxjQUFBLFVBQ0FDLElBQUFILE9BQUFJLFdBQUEsTUEyQ0EsU0FBQUMsT0FFQUwsT0FBQUMsU0FBQUMsY0FBQSxXQU9BQyxJQUFBSCxPQUFBSSxXQUFBLE9BTEFFLFVBQUFBLFNBRUFBLHNCQUFBQSxRQUdBSCxTQUFBQSxTQUNBQSxzQkFBQUEsUUFPQUEsSUFBQUksVUFBQSxFQUFBLEVBQUFQLE9BQUFRLE1BQUFSLE9BQUFTLFFBSkFDLFNBQUFWLE9BQUFHLElBQUEsR0F2REFILE9BQUFRLE1BQUFGLE9BQUFLLFdBQ0FYLE9BQUFTLE9BQUFILE9BQUFNLFlBSkFOLE9BQUFPLGlCQUFBLFNBQUEsV0FBQWIsT0FBQVEsTUFBQUYsT0FBQUssV0FBQVgsT0FBQVMsT0FBQUgsT0FBQU0sY0FFQSxXQUNBWixJQUFBQSxFQUFBQSxTQUFBQSxjQUFBQSxVQUNBQSxFQUFBQSxFQUFBQSxXQUFBQSxNQU9BYyxFQUFBLElBTEFSLEVBQUFBLElBR0EsU0FBQVMsRUFBQUMsR0FDQSxPQUFBQyxLQUFBQyxNQUFBRCxLQUFBRSxTQUFBSCxHQUpBaEIsRUFBQUEsTUFBQUEsRUFBQW9CLEVBQUFYLE9BQUFZLEVBU0FELEVBQUFFLFVBQUEsT0EyQkFoQixPQUFBSSxTQTdCQVUsU0FBQUEsRUFBQUEsRUFBQUEsR0FDQUEsRUFBQUEsR0FBQUEsRUFDQUEsRUFBQUEsT0FTQXBCLEVBQUFRLE1BTkFlLEVBQUFoQixVQUFBLEVBQUEsRUFBQU8sRUFBQU8sR0FVQSxJQUFBLElBQUFHLEVBQUEsRUFBQUEsRUFBQVYsRUFBQVUsR0FBQUMsRUFQQSxJ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QUFzRixLQUFBdkYsRUFBQTlCLEVBQUFxSCxHQUFBdkYsRUFBQXVGLFFBQUEsR0FBQWxGLEtBQUFXLFFBQUF3RSxhQUFBLGFBQUFELEdBQUEsQ0FBQSxJQUFBdkYsRUFBQUssS0FBQVcsUUFBQXlFLGFBQUEsYUFBQUYsR0FBQSxJQUFBckgsRUFBQXFILEdBQUFHLEtBQUFDLE1BQUEzRixHQUFBLE1BQUFDLEdBQUEvQixFQUFBcUgsR0FBQXZGLFFBQUE5QixFQUFBcUgsR0FBQXRGLEVBQUFzRixHQUFBLE9BQUFySCxLQUFBLENBQUEsQ0FBQXdELElBQUEsT0FBQUMsTUFBQSxTQUFBMUIsRUFBQS9CLEdBQUErQixhQUFBSyxPQUFBTCxFQUFBLENBQUFBLElBQUFBLGFBQUEyRixXQUFBM0YsRUFBQSxHQUFBNEYsTUFBQUMsS0FBQTdGLElBQUFBLGFBQUF0QyxPQUFBc0MsRUFBQThGLFFBQUEsU0FBQTlGLEdBQUEsZ0JBQUFBLElBQUFBLEVBQUFzQyxZQUFBLElBQUF2QyxFQUFBQyxFQUFBL0IsVUFBQThCLEVBQUEsR0FBQSxNQUFBLG9CQUFBbEUsV0FBQUssT0FBQTRELFlBQUFDLEdBQUFnRyxLQUFBbEssU0FBQStCLGlCQUFBLGdCQUFBbUMsRUFBQSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLy0tLS0tLS0tLS1Ob2lzZS1CYWNrZ3JvdW5kLS0tLS0tLS0tLS8vXHJcbmxldCBjYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubm9pc2UnKTtcclxubGV0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG5jYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7Y2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7IGNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7fSk7XHJcblxyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgYnVmZmVyY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICB2YXIgYnVmZmVyY3R4ID0gYnVmZmVyY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICB2YXIgV0lEVEggPSAxMDA7XHJcbiAgICB2YXIgSEVJR0hUID0gMTAwO1xyXG4gICAgYnVmZmVyY2FudmFzLndpZHRoID0gV0lEVEg7XHJcbiAgICBidWZmZXJjYW52YXMuaGVpZ2h0ID0gSEVJR0hUO1xyXG4gICAgYnVmZmVyY2FudmFzLmZpbGxTdHlsZSA9ICcjMDAwJztcclxuICBcclxuICAgIGZ1bmN0aW9uIHJhbmQobnVtKSB7XHJcbiAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBudW0pO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgZnVuY3Rpb24gdHZzdGF0aWMoY2FudmFzLCBjdHgsIHNjYWxlKSB7XHJcbiAgICAgIHNjYWxlID0gc2NhbGUgfHwgMTtcclxuICAgICAgdmFyIGggPSBjYW52YXMuaGVpZ2h0O1xyXG4gICAgICB2YXIgdyA9IGNhbnZhcy53aWR0aDtcclxuICBcclxuICAgICAgYnVmZmVyY3R4LmNsZWFyUmVjdCgwLCAwLCBXSURUSCwgSEVJR0hUKTtcclxuICAgICAgLy8gZHJhdyB0aGUgc3RhdGljIG9uIHRoZSBidWZmZXIgY2FudmFzXHJcbiAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgV0lEVEg7IHgrPXNjYWxlKSB7XHJcbiAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBIRUlHSFQ7IHkrPXNjYWxlKSB7XHJcbiAgICAgICAgICBpZiAoTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKSlcclxuICAgICAgICAgICAgYnVmZmVyY3R4LmZpbGxSZWN0KHgsIHksIHNjYWxlLCBzY2FsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgXHJcbiAgICAgIC8vIHJlcGVhdCBpdCBvbnRvIHRoZSByZWFsIGNhbnZhc1xyXG4gICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IGNhbnZhcy53aWR0aDsgeCArPSBXSURUSCkge1xyXG4gICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgY2FudmFzLmhlaWdodDsgeSArPSBIRUlHSFQpIHtcclxuICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoYnVmZmVyY2FudmFzLCB4LCB5KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgLy8gZHJhdyBzb21lIGhvcml6b250YWwgbGluZXMgb24gdGhlIHJlYWwgY2FudmFzXHJcbiAgICAgIGZvciAodmFyIHkgPSByYW5kKDEwKTsgeSA8IGNhbnZhcy5oZWlnaHQ7IHkgKz0gcmFuZCgxMCkpIHtcclxuICAgICAgICBjdHguZmlsbFJlY3QoMCwgeSwgY2FudmFzLndpZHRoLCByYW5kKDMpKTtcclxuICAgICAgfVxyXG4gIFxyXG4gICAgfVxyXG4gIFxyXG4gICAgd2luZG93LnR2c3RhdGljID0gdHZzdGF0aWM7XHJcbiAgfSkoKTtcclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGxvYWQsIGZhbHNlKTtcclxuXHRcdGZ1bmN0aW9uIGxvYWQoKSB7XHJcblx0XHRcdGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ub2lzZScpO1xyXG5cdFx0XHRjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuXHRcdFx0Y3R4LmZpbGxTdHlsZSA9ICcjZjdmN2YnO1xyXG5cclxuXHRcdFx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcik7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcmVuZGVyKCkge1xyXG5cdFx0XHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVuZGVyKTtcclxuXHRcdFx0Y3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG5cclxuXHRcdFx0dHZzdGF0aWMoY2FudmFzLCBjdHgsIDIpO1xyXG5cdFx0fVxyXG5cclxuLy8tLS0tLS0tLS0tU2Nyb2xsIEVmZmVjdHMtLS0tLS0tLS0tLy9cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgKCkgPT4ge1xyXG4gICAgbGV0IGNhcmRJdGVtID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2FyZGltZ19faXRlbScpKVxyXG4gICAgbGV0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JylcclxuICAgIGxldCBjb250YWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhY3QnKVxyXG4gICAgbGV0IGxvZ29Jbm5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2dvIHN2ZyAuYycpXHJcbiAgICBsZXQgbG9nb091dGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvZ28gc3ZnIC5kJylcclxuICAgIGxldCBsaW5rcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdiB1bCBsaSBhJykpXHJcblxyXG4gICAgaWYod2luZG93LnBhZ2VZT2Zmc2V0ICogMy4xID4gY2FudmFzLmhlaWdodCl7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGNhcmRJdGVtLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgY2FyZEl0ZW1baV0uY2xhc3NMaXN0LmFkZCgnY2FyZGltZy0tcmV2ZWFsJylcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBjaGVja1dvcmtzKCl7XHJcbiAgICAgICAgaWYod2luZG93LnBhZ2VZT2Zmc2V0ICsgNTAgPiBjYW52YXMuaGVpZ2h0KXtcclxuICAgICAgICAgICAgYm9keS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInZhcigtLWJvb2tvcHVzKVwiXHJcbiAgICAgICAgICAgIGlmIChjYW52YXMud2lkdGggPiA5MDApe1xyXG4gICAgICAgICAgICAgICAgbG9nb0lubmVyLnN0eWxlLmZpbGwgPSBcInZhcigtLWxpZ2h0KVwiXHJcbiAgICAgICAgICAgICAgICBsb2dvT3V0ZXIuc3R5bGUuc3Ryb2tlID0gXCJ2YXIoLS1kYXJrKVwiXHJcbiAgICAgICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgbGlua3MubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmtzW2ldLnN0eWxlLmNvbG9yID0gXCJ2YXIoLS1kYXJrKVwiXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ICAgIGVsc2V7IC8qIERlZmF1bHQgVmFsdWVzICovXHJcbiAgICAgICAgICAgIGJvZHkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ2YXIoLS1saWdodClcIlxyXG4gICAgICAgICAgICBpZiAoY2FudmFzLndpZHRoID4gOTAwKXtcclxuICAgICAgICAgICAgICAgIGxvZ29Jbm5lci5zdHlsZS5maWxsID0gXCJ2YXIoLS1jdGEpXCJcclxuICAgICAgICAgICAgICAgIGxvZ29PdXRlci5zdHlsZS5zdHJva2UgPSBcInZhcigtLWRhcmspXCJcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBsaW5rcy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgbGlua3NbaV0uc3R5bGUuY29sb3IgPSBcInZhcigtLWRhcmspXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNoZWNrV29ya3MoKTtcclxuICAgIGlmKHdpbmRvdy5wYWdlWU9mZnNldCArIGNvbnRhY3Quc2Nyb2xsSGVpZ2h0IC0gNDUwICA+IGNhbnZhcy5oZWlnaHQgKyAgY29udGFjdC5zY3JvbGxIZWlnaHQgKXtcclxuICAgICAgICBib2R5LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwidmFyKC0tZGFyaylcIlxyXG4gICAgICAgIGlmIChjYW52YXMud2lkdGggPiA5MDApe1xyXG4gICAgICAgICAgICBsb2dvSW5uZXIuc3R5bGUuZmlsbCA9IFwidmFyKC0tY3RhKVwiXHJcbiAgICAgICAgICAgIGxvZ29PdXRlci5zdHlsZS5zdHJva2UgPSBcInZhcigtLWxpZ2h0KVwiXHJcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBsaW5rcy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICBsaW5rc1tpXS5zdHlsZS5jb2xvciA9IFwidmFyKC0tbGlnaHQpXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1lbHNlIGlmICh3aW5kb3cucGFnZVlPZmZzZXQgKyAyMDAgPiBjYW52YXMuaGVpZ2h0IHx8IHdpbmRvdy5wYWdlWU9mZnNldCArIGNvbnRhY3Quc2Nyb2xsSGVpZ2h0IC0gOTAwICA8IGNhbnZhcy5oZWlnaHQgKyAgY29udGFjdC5zY3JvbGxIZWlnaHQpe1xyXG4gICAgICAgIGNoZWNrV29ya3MoKTtcclxuICAgIH1cclxufSlcclxuXHJcbmxldCBtZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vYmlsZS1uYXYtLW1lbnUnKVxyXG4gICAgXHJcbm1lbnUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBsZXQgbG9nbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2JpbGUtbmF2IC5sb2dvIC5jJyk7XHJcbiAgICBsZXQgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKTtcclxuICAgIGxldCBsaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2JpbGUtbmF2X19saW5rcycpXHJcbiAgICBcclxuICAgIG1lbnUuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XHJcbiAgICBpZiAobWVudS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpID09PSB0cnVlKXtcclxuICAgICAgICBsb2dvLnN0eWxlLmZpbGwgPSBcInZhcigtLWxpZ2h0KVwiO1xyXG4gICAgICAgIGJvZHkuc3R5bGUub3ZlcmZsb3dZID0gXCJoaWRkZW5cIjtcclxuICAgICAgICBsaW5rcy5zdHlsZS5vcGFjaXR5ID0gXCIxXCJcclxuICAgICAgICBsaW5rcy5zdHlsZS50cmFuc2Zvcm0gPSBcInNjYWxlKDEpXCJcclxuICAgIH0gZWxzZXtcclxuICAgICAgICBjbG9zZVRhYigpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gY2xvc2VUYWIoKXtcclxuICAgICAgICBsb2dvLnN0eWxlLmZpbGwgPSBcInZhcigtLWN0YSlcIlxyXG4gICAgICAgIGJvZHkuc3R5bGUub3ZlcmZsb3dZID0gXCJ2aXNpYmxlXCI7XHJcbiAgICAgICAgbGlua3Muc3R5bGUub3BhY2l0eSA9IFwiMFwiXHJcbiAgICAgICAgbGlua3Muc3R5bGUudHJhbnNmb3JtID0gXCJzY2FsZSgxLCAwKVwiXHJcbiAgICB9XHJcbiAgICBsaW5rcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICBtZW51LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcbiAgICAgICAgY2xvc2VUYWIoKVxyXG4gICAgfSlcclxufSlcclxuXHJcbmxldCBhYm91dFRyaURlc2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGVza3RvcC0tYWJvdXQnKVxyXG5sZXQgYWJvdXRUcmlNb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGVza3RvcC0tbW9iaWxlJylcclxuICAgIFxyXG5hYm91dFRyaURlc2suYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQWJvdXQpOyBcclxuYWJvdXRUcmlNb2IuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBvcGVuQWJvdXQoKTtcclxuICAgIGJvZHlPdmVyZmxvdygpO1xyXG59KTsgXHJcblxyXG5mdW5jdGlvbiBvcGVuQWJvdXQoKSB7XHJcbiAgICBsZXQgbG9nbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2dvIHN2ZyAuYycpO1xyXG4gICAgbGV0IGFib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFib3V0Jyk7XHJcbiAgICBsZXQgY2xvc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWJvdXRfX2Nsb3NlJyk7XHJcbiAgICBhYm91dC5jbGFzc0xpc3QuYWRkKCdhYm91dC0tYWN0aXZlJyk7XHJcblxyXG4gICAgaWYgKGFib3V0LmNsYXNzTGlzdC5jb250YWlucygnYWJvdXQtLWFjdGl2ZScpID09PSB0cnVlKXtcclxuICAgICAgICBhYm91dFRyaURlc2suY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0JylcclxuICAgICAgICBsb2dvLnN0eWxlLmZpbGwgPSBcInZhcigtLWxpZ2h0KVwiO1xyXG4gICAgfSBlbHNle1xyXG4gICAgICAgIGxvZ28uc3R5bGUuZmlsbCA9IFwidmFyKC0tY3RhKVwiXHJcbiAgICAgICAgYWJvdXRUcmlEZXNrLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodCcpXHJcbiAgICB9XHJcbiAgICBjbG9zZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIGFib3V0LmNsYXNzTGlzdC5yZW1vdmUoJ2Fib3V0LS1hY3RpdmUnKTtcclxuICAgICAgICBsb2dvLnN0eWxlLmZpbGwgPSBcInZhcigtLWN0YSlcIlxyXG4gICAgICAgIGFib3V0VHJpRGVzay5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHQnKVxyXG4gICAgfSlcclxufVxyXG5mdW5jdGlvbiBib2R5T3ZlcmZsb3coKXtcclxuICAgIGxldCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xyXG4gICAgbGV0IGFib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFib3V0Jyk7XHJcbiAgICBsZXQgY2xvc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWJvdXRfX2Nsb3NlJyk7XHJcblxyXG4gICAgaWYgKGFib3V0LmNsYXNzTGlzdC5jb250YWlucygnYWJvdXQtLWFjdGl2ZScpID09PSB0cnVlKXtcclxuICAgICAgICBib2R5LnN0eWxlLm92ZXJmbG93WCA9IFwiaGlkZGVuXCJcclxuICAgIH0gZWxzZXtcclxuICAgICAgICBib2R5LnN0eWxlLm92ZXJmbG93WCA9IFwidmlzaWJsZVwiXHJcbiAgICB9XHJcbiAgICBjbG9zZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIGJvZHkuc3R5bGUub3ZlcmZsb3dYID0gXCJ2aXNpYmxlXCJcclxuICAgIH0pXHJcbn1cclxuIiwidmFyIFZhbmlsbGFUaWx0PWZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGU9e30pe2lmKCEodCBpbnN0YW5jZW9mIE5vZGUpKXRocm93XCJDYW4ndCBpbml0aWFsaXplIFZhbmlsbGFUaWx0IGJlY2F1c2UgXCIrdCtcIiBpcyBub3QgYSBOb2RlLlwiO3RoaXMud2lkdGg9bnVsbCx0aGlzLmhlaWdodD1udWxsLHRoaXMubGVmdD1udWxsLHRoaXMudG9wPW51bGwsdGhpcy50cmFuc2l0aW9uVGltZW91dD1udWxsLHRoaXMudXBkYXRlQ2FsbD1udWxsLHRoaXMudXBkYXRlQmluZD10aGlzLnVwZGF0ZS5iaW5kKHRoaXMpLHRoaXMucmVzZXRCaW5kPXRoaXMucmVzZXQuYmluZCh0aGlzKSx0aGlzLmVsZW1lbnQ9dCx0aGlzLnNldHRpbmdzPXRoaXMuZXh0ZW5kU2V0dGluZ3MoZSksdGhpcy5yZXZlcnNlPXRoaXMuc2V0dGluZ3MucmV2ZXJzZT8tMToxLHRoaXMuZ2xhcmU9dGhpcy5pc1NldHRpbmdUcnVlKHRoaXMuc2V0dGluZ3MuZ2xhcmUpLHRoaXMuZ2xhcmVQcmVyZW5kZXI9dGhpcy5pc1NldHRpbmdUcnVlKHRoaXMuc2V0dGluZ3NbXCJnbGFyZS1wcmVyZW5kZXJcIl0pLHRoaXMuZ2xhcmUmJnRoaXMucHJlcGFyZUdsYXJlKCksdGhpcy5hZGRFdmVudExpc3RlbmVycygpfWlzU2V0dGluZ1RydWUodCl7cmV0dXJuXCJcIj09PXR8fCEwPT09dHx8MT09PXR9YWRkRXZlbnRMaXN0ZW5lcnMoKXt0aGlzLm9uTW91c2VFbnRlckJpbmQ9dGhpcy5vbk1vdXNlRW50ZXIuYmluZCh0aGlzKSx0aGlzLm9uTW91c2VNb3ZlQmluZD10aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcyksdGhpcy5vbk1vdXNlTGVhdmVCaW5kPXRoaXMub25Nb3VzZUxlYXZlLmJpbmQodGhpcyksdGhpcy5vbldpbmRvd1Jlc2l6ZUJpbmQ9dGhpcy5vbldpbmRvd1Jlc2l6ZUJpbmQuYmluZCh0aGlzKSx0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIix0aGlzLm9uTW91c2VFbnRlckJpbmQpLHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsdGhpcy5vbk1vdXNlTW92ZUJpbmQpLHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLHRoaXMub25Nb3VzZUxlYXZlQmluZCksdGhpcy5nbGFyZSYmd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLm9uV2luZG93UmVzaXplQmluZCl9cmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKXt0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIix0aGlzLm9uTW91c2VFbnRlckJpbmQpLHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsdGhpcy5vbk1vdXNlTW92ZUJpbmQpLHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLHRoaXMub25Nb3VzZUxlYXZlQmluZCksdGhpcy5nbGFyZSYmd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLm9uV2luZG93UmVzaXplQmluZCl9ZGVzdHJveSgpe2NsZWFyVGltZW91dCh0aGlzLnRyYW5zaXRpb25UaW1lb3V0KSxudWxsIT09dGhpcy51cGRhdGVDYWxsJiZjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnVwZGF0ZUNhbGwpLHRoaXMucmVzZXQoKSx0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKCksdGhpcy5lbGVtZW50LnZhbmlsbGFUaWx0PW51bGwsZGVsZXRlIHRoaXMuZWxlbWVudC52YW5pbGxhVGlsdCx0aGlzLmVsZW1lbnQ9bnVsbH1vbk1vdXNlRW50ZXIodCl7dGhpcy51cGRhdGVFbGVtZW50UG9zaXRpb24oKSx0aGlzLmVsZW1lbnQuc3R5bGUud2lsbENoYW5nZT1cInRyYW5zZm9ybVwiLHRoaXMuc2V0VHJhbnNpdGlvbigpfW9uTW91c2VNb3ZlKHQpe251bGwhPT10aGlzLnVwZGF0ZUNhbGwmJmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMudXBkYXRlQ2FsbCksdGhpcy5ldmVudD10LHRoaXMudXBkYXRlQ2FsbD1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy51cGRhdGVCaW5kKX1vbk1vdXNlTGVhdmUodCl7dGhpcy5zZXRUcmFuc2l0aW9uKCksdGhpcy5zZXR0aW5ncy5yZXNldCYmcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMucmVzZXRCaW5kKX1yZXNldCgpe3RoaXMuZXZlbnQ9e3BhZ2VYOnRoaXMubGVmdCt0aGlzLndpZHRoLzIscGFnZVk6dGhpcy50b3ArdGhpcy5oZWlnaHQvMn0sdGhpcy5lbGVtZW50LnN0eWxlLnRyYW5zZm9ybT1cInBlcnNwZWN0aXZlKFwiK3RoaXMuc2V0dGluZ3MucGVyc3BlY3RpdmUrXCJweCkgcm90YXRlWCgwZGVnKSByb3RhdGVZKDBkZWcpIHNjYWxlM2QoMSwgMSwgMSlcIix0aGlzLmdsYXJlJiYodGhpcy5nbGFyZUVsZW1lbnQuc3R5bGUudHJhbnNmb3JtPVwicm90YXRlKDE4MGRlZykgdHJhbnNsYXRlKC01MCUsIC01MCUpXCIsdGhpcy5nbGFyZUVsZW1lbnQuc3R5bGUub3BhY2l0eT1cIjBcIil9Z2V0VmFsdWVzKCl7bGV0IHQ9KHRoaXMuZXZlbnQuY2xpZW50WC10aGlzLmxlZnQpL3RoaXMud2lkdGgsZT0odGhpcy5ldmVudC5jbGllbnRZLXRoaXMudG9wKS90aGlzLmhlaWdodDtyZXR1cm4gdD1NYXRoLm1pbihNYXRoLm1heCh0LDApLDEpLGU9TWF0aC5taW4oTWF0aC5tYXgoZSwwKSwxKSx7dGlsdFg6KHRoaXMucmV2ZXJzZSoodGhpcy5zZXR0aW5ncy5tYXgvMi10KnRoaXMuc2V0dGluZ3MubWF4KSkudG9GaXhlZCgyKSx0aWx0WToodGhpcy5yZXZlcnNlKihlKnRoaXMuc2V0dGluZ3MubWF4LXRoaXMuc2V0dGluZ3MubWF4LzIpKS50b0ZpeGVkKDIpLHBlcmNlbnRhZ2VYOjEwMCp0LHBlcmNlbnRhZ2VZOjEwMCplLGFuZ2xlOk1hdGguYXRhbjIodGhpcy5ldmVudC5jbGllbnRYLSh0aGlzLmxlZnQrdGhpcy53aWR0aC8yKSwtKHRoaXMuZXZlbnQuY2xpZW50WS0odGhpcy50b3ArdGhpcy5oZWlnaHQvMikpKSooMTgwL01hdGguUEkpfX11cGRhdGVFbGVtZW50UG9zaXRpb24oKXtsZXQgdD10aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dGhpcy53aWR0aD10aGlzLmVsZW1lbnQub2Zmc2V0V2lkdGgsdGhpcy5oZWlnaHQ9dGhpcy5lbGVtZW50Lm9mZnNldEhlaWdodCx0aGlzLmxlZnQ9dC5sZWZ0LHRoaXMudG9wPXQudG9wfXVwZGF0ZSgpe2xldCB0PXRoaXMuZ2V0VmFsdWVzKCk7dGhpcy5lbGVtZW50LnN0eWxlLnRyYW5zZm9ybT1cInBlcnNwZWN0aXZlKFwiK3RoaXMuc2V0dGluZ3MucGVyc3BlY3RpdmUrXCJweCkgcm90YXRlWChcIisoXCJ4XCI9PT10aGlzLnNldHRpbmdzLmF4aXM/MDp0LnRpbHRZKStcImRlZykgcm90YXRlWShcIisoXCJ5XCI9PT10aGlzLnNldHRpbmdzLmF4aXM/MDp0LnRpbHRYKStcImRlZykgc2NhbGUzZChcIit0aGlzLnNldHRpbmdzLnNjYWxlK1wiLCBcIit0aGlzLnNldHRpbmdzLnNjYWxlK1wiLCBcIit0aGlzLnNldHRpbmdzLnNjYWxlK1wiKVwiLHRoaXMuZ2xhcmUmJih0aGlzLmdsYXJlRWxlbWVudC5zdHlsZS50cmFuc2Zvcm09YHJvdGF0ZSgke3QuYW5nbGV9ZGVnKSB0cmFuc2xhdGUoLTUwJSwgLTUwJSlgLHRoaXMuZ2xhcmVFbGVtZW50LnN0eWxlLm9wYWNpdHk9YCR7dC5wZXJjZW50YWdlWSp0aGlzLnNldHRpbmdzW1wibWF4LWdsYXJlXCJdLzEwMH1gKSx0aGlzLmVsZW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJ0aWx0Q2hhbmdlXCIse2RldGFpbDp0fSkpLHRoaXMudXBkYXRlQ2FsbD1udWxsfXByZXBhcmVHbGFyZSgpe2lmKCF0aGlzLmdsYXJlUHJlcmVuZGVyKXtjb25zdCB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dC5jbGFzc0xpc3QuYWRkKFwianMtdGlsdC1nbGFyZVwiKTtjb25zdCBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZS5jbGFzc0xpc3QuYWRkKFwianMtdGlsdC1nbGFyZS1pbm5lclwiKSx0LmFwcGVuZENoaWxkKGUpLHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0KX10aGlzLmdsYXJlRWxlbWVudFdyYXBwZXI9dGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuanMtdGlsdC1nbGFyZVwiKSx0aGlzLmdsYXJlRWxlbWVudD10aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5qcy10aWx0LWdsYXJlLWlubmVyXCIpLHRoaXMuZ2xhcmVQcmVyZW5kZXJ8fChPYmplY3QuYXNzaWduKHRoaXMuZ2xhcmVFbGVtZW50V3JhcHBlci5zdHlsZSx7cG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDpcIjBcIixsZWZ0OlwiMFwiLHdpZHRoOlwiMTAwJVwiLGhlaWdodDpcIjEwMCVcIixvdmVyZmxvdzpcImhpZGRlblwifSksT2JqZWN0LmFzc2lnbih0aGlzLmdsYXJlRWxlbWVudC5zdHlsZSx7cG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDpcIjUwJVwiLGxlZnQ6XCI1MCVcIixcInBvaW50ZXItZXZlbnRzXCI6XCJub25lXCIsXCJiYWNrZ3JvdW5kLWltYWdlXCI6YGxpbmVhci1ncmFkaWVudCgwZGVnLCByZ2JhKDI1NSwyNTUsMjU1LDApIDAlLCByZ2JhKDI1NSwyNTUsMjU1LDEpIDEwMCUpYCx3aWR0aDpgJHsyKnRoaXMuZWxlbWVudC5vZmZzZXRXaWR0aH1weGAsaGVpZ2h0OmAkezIqdGhpcy5lbGVtZW50Lm9mZnNldFdpZHRofXB4YCx0cmFuc2Zvcm06XCJyb3RhdGUoMTgwZGVnKSB0cmFuc2xhdGUoLTUwJSwgLTUwJSlcIixcInRyYW5zZm9ybS1vcmlnaW5cIjpcIjAlIDAlXCIsb3BhY2l0eTpcIjBcIn0pKX11cGRhdGVHbGFyZVNpemUoKXtPYmplY3QuYXNzaWduKHRoaXMuZ2xhcmVFbGVtZW50LnN0eWxlLHt3aWR0aDpgJHsyKnRoaXMuZWxlbWVudC5vZmZzZXRXaWR0aH1gLGhlaWdodDpgJHsyKnRoaXMuZWxlbWVudC5vZmZzZXRXaWR0aH1gfSl9b25XaW5kb3dSZXNpemVCaW5kKCl7dGhpcy51cGRhdGVHbGFyZVNpemUoKX1zZXRUcmFuc2l0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMudHJhbnNpdGlvblRpbWVvdXQpLHRoaXMuZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uPXRoaXMuc2V0dGluZ3Muc3BlZWQrXCJtcyBcIit0aGlzLnNldHRpbmdzLmVhc2luZyx0aGlzLmdsYXJlJiYodGhpcy5nbGFyZUVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbj1gb3BhY2l0eSAke3RoaXMuc2V0dGluZ3Muc3BlZWR9bXMgJHt0aGlzLnNldHRpbmdzLmVhc2luZ31gKSx0aGlzLnRyYW5zaXRpb25UaW1lb3V0PXNldFRpbWVvdXQoKCk9Pnt0aGlzLmVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbj1cIlwiO3RoaXMuZ2xhcmUmJih0aGlzLmdsYXJlRWxlbWVudC5zdHlsZS50cmFuc2l0aW9uPVwiXCIpfSx0aGlzLnNldHRpbmdzLnNwZWVkKX1leHRlbmRTZXR0aW5ncyh0KXtsZXQgZT17cmV2ZXJzZTohMSxtYXg6MzUscGVyc3BlY3RpdmU6MWUzLGVhc2luZzpcImN1YmljLWJlemllciguMDMsLjk4LC41MiwuOTkpXCIsc2NhbGU6XCIxXCIsc3BlZWQ6XCIzMDBcIix0cmFuc2l0aW9uOiEwLGF4aXM6bnVsbCxnbGFyZTohMSxcIm1heC1nbGFyZVwiOjEsXCJnbGFyZS1wcmVyZW5kZXJcIjohMSxyZXNldDohMH0saT17fTtmb3IodmFyIHMgaW4gZSlpZihzIGluIHQpaVtzXT10W3NdO2Vsc2UgaWYodGhpcy5lbGVtZW50Lmhhc0F0dHJpYnV0ZShcImRhdGEtdGlsdC1cIitzKSl7bGV0IHQ9dGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtdGlsdC1cIitzKTt0cnl7aVtzXT1KU09OLnBhcnNlKHQpfWNhdGNoKGUpe2lbc109dH19ZWxzZSBpW3NdPWVbc107cmV0dXJuIGl9c3RhdGljIGluaXQoZSxpKXtlIGluc3RhbmNlb2YgTm9kZSYmKGU9W2VdKSxlIGluc3RhbmNlb2YgTm9kZUxpc3QmJihlPVtdLnNsaWNlLmNhbGwoZSkpLGUgaW5zdGFuY2VvZiBBcnJheSYmZS5mb3JFYWNoKGU9PntcInZhbmlsbGFUaWx0XCJpbiBlfHwoZS52YW5pbGxhVGlsdD1uZXcgdChlLGkpKX0pfX1yZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQmJih3aW5kb3cuVmFuaWxsYVRpbHQ9dCx0LmluaXQoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLXRpbHRdXCIpKSksdH0oKTsiXX0=
