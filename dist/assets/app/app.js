"use strict";var _createClass=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var canvas=document.querySelector(".noise"),ctx=canvas.getContext("2d");function noise(e){for(var t=e.canvas.width,i=e.canvas.height,n=e.createImageData(t,i),s=new Uint32Array(n.data.buffer),a=0;a<s.length;a++)s[a]=(30*Math.random()|0)<<24;e.putImageData(n,0,0)}function loop(){var e=!0;(e=!e)||noise(ctx),requestAnimationFrame(loop)}canvas.width=window.innerWidth,canvas.height=window.innerHeight,window.addEventListener("resize",function(){canvas.width=window.innerWidth,canvas.height=window.innerHeight}),loop(),window.addEventListener("scroll",function(){var e=Array.from(document.querySelectorAll(".cardimg__item")),t=document.querySelector("body"),i=document.querySelector(".contact");if(3.1*window.pageYOffset>canvas.height)for(var n=0;n<e.length;n++)e[n].classList.add("cardimg--reveal");window.pageYOffset+200>canvas.height?t.style.backgroundColor="var(--bookopus)":t.style.backgroundColor="var(--light)",window.pageYOffset+i.scrollHeight-450>canvas.height+i.scrollHeight&&(t.style.backgroundColor="var(--light)")});var VanillaTilt=function(){var e=function(){function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(_classCallCheck(this,i),!(e instanceof Node))throw"Can't initialize VanillaTilt because "+e+" is not a Node.";this.width=null,this.height=null,this.left=null,this.top=null,this.transitionTimeout=null,this.updateCall=null,this.updateBind=this.update.bind(this),this.resetBind=this.reset.bind(this),this.element=e,this.settings=this.extendSettings(t),this.reverse=this.settings.reverse?-1:1,this.glare=this.isSettingTrue(this.settings.glare),this.glarePrerender=this.isSettingTrue(this.settings["glare-prerender"]),this.glare&&this.prepareGlare(),this.addEventListeners()}return _createClass(i,[{key:"isSettingTrue",value:function(e){return""===e||!0===e||1===e}},{key:"addEventListeners",value:function(){this.onMouseEnterBind=this.onMouseEnter.bind(this),this.onMouseMoveBind=this.onMouseMove.bind(this),this.onMouseLeaveBind=this.onMouseLeave.bind(this),this.onWindowResizeBind=this.onWindowResizeBind.bind(this),this.element.addEventListener("mouseenter",this.onMouseEnterBind),this.element.addEventListener("mousemove",this.onMouseMoveBind),this.element.addEventListener("mouseleave",this.onMouseLeaveBind),this.glare&&window.addEventListener("resize",this.onWindowResizeBind)}},{key:"removeEventListeners",value:function(){this.element.removeEventListener("mouseenter",this.onMouseEnterBind),this.element.removeEventListener("mousemove",this.onMouseMoveBind),this.element.removeEventListener("mouseleave",this.onMouseLeaveBind),this.glare&&window.removeEventListener("resize",this.onWindowResizeBind)}},{key:"destroy",value:function(){clearTimeout(this.transitionTimeout),null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.reset(),this.removeEventListeners(),this.element.vanillaTilt=null,delete this.element.vanillaTilt,this.element=null}},{key:"onMouseEnter",value:function(e){this.updateElementPosition(),this.element.style.willChange="transform",this.setTransition()}},{key:"onMouseMove",value:function(e){null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.event=e,this.updateCall=requestAnimationFrame(this.updateBind)}},{key:"onMouseLeave",value:function(e){this.setTransition(),this.settings.reset&&requestAnimationFrame(this.resetBind)}},{key:"reset",value:function(){this.event={pageX:this.left+this.width/2,pageY:this.top+this.height/2},this.element.style.transform="perspective("+this.settings.perspective+"px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)",this.glare&&(this.glareElement.style.transform="rotate(180deg) translate(-50%, -50%)",this.glareElement.style.opacity="0")}},{key:"getValues",value:function(){var e=(this.event.clientX-this.left)/this.width,t=(this.event.clientY-this.top)/this.height;return e=Math.min(Math.max(e,0),1),t=Math.min(Math.max(t,0),1),{tiltX:(this.reverse*(this.settings.max/2-e*this.settings.max)).toFixed(2),tiltY:(this.reverse*(t*this.settings.max-this.settings.max/2)).toFixed(2),percentageX:100*e,percentageY:100*t,angle:Math.atan2(this.event.clientX-(this.left+this.width/2),-(this.event.clientY-(this.top+this.height/2)))*(180/Math.PI)}}},{key:"updateElementPosition",value:function(){var e=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=e.left,this.top=e.top}},{key:"update",value:function(){var e=this.getValues();this.element.style.transform="perspective("+this.settings.perspective+"px) rotateX("+("x"===this.settings.axis?0:e.tiltY)+"deg) rotateY("+("y"===this.settings.axis?0:e.tiltX)+"deg) scale3d("+this.settings.scale+", "+this.settings.scale+", "+this.settings.scale+")",this.glare&&(this.glareElement.style.transform="rotate("+e.angle+"deg) translate(-50%, -50%)",this.glareElement.style.opacity=""+e.percentageY*this.settings["max-glare"]/100),this.element.dispatchEvent(new CustomEvent("tiltChange",{detail:e})),this.updateCall=null}},{key:"prepareGlare",value:function(){if(!this.glarePrerender){var e=document.createElement("div");e.classList.add("js-tilt-glare");var t=document.createElement("div");t.classList.add("js-tilt-glare-inner"),e.appendChild(t),this.element.appendChild(e)}this.glareElementWrapper=this.element.querySelector(".js-tilt-glare"),this.glareElement=this.element.querySelector(".js-tilt-glare-inner"),this.glarePrerender||(Object.assign(this.glareElementWrapper.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden"}),Object.assign(this.glareElement.style,{position:"absolute",top:"50%",left:"50%","pointer-events":"none","background-image":"linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)",width:2*this.element.offsetWidth+"px",height:2*this.element.offsetWidth+"px",transform:"rotate(180deg) translate(-50%, -50%)","transform-origin":"0% 0%",opacity:"0"}))}},{key:"updateGlareSize",value:function(){Object.assign(this.glareElement.style,{width:""+2*this.element.offsetWidth,height:""+2*this.element.offsetWidth})}},{key:"onWindowResizeBind",value:function(){this.updateGlareSize()}},{key:"setTransition",value:function(){var e=this;clearTimeout(this.transitionTimeout),this.element.style.transition=this.settings.speed+"ms "+this.settings.easing,this.glare&&(this.glareElement.style.transition="opacity "+this.settings.speed+"ms "+this.settings.easing),this.transitionTimeout=setTimeout(function(){e.element.style.transition="",e.glare&&(e.glareElement.style.transition="")},this.settings.speed)}},{key:"extendSettings",value:function(e){var t={reverse:!1,max:35,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:"1",speed:"300",transition:!0,axis:null,glare:!1,"max-glare":1,"glare-prerender":!1,reset:!0},i={};for(var n in t)if(n in e)i[n]=e[n];else if(this.element.hasAttribute("data-tilt-"+n)){var s=this.element.getAttribute("data-tilt-"+n);try{i[n]=JSON.parse(s)}catch(t){i[n]=s}}else i[n]=t[n];return i}}],[{key:"init",value:function(e,t){e instanceof Node&&(e=[e]),e instanceof NodeList&&(e=[].slice.call(e)),e instanceof Array&&e.forEach(function(e){"vanillaTilt"in e||(e.vanillaTilt=new i(e,t))})}}]),i}();return"undefined"!=typeof document&&(window.VanillaTilt=e).init(document.querySelectorAll("[data-tilt]")),e}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsInZlbmRvcnMvdmFuaWxsYS10aWx0Lm1pbi5qcyJdLCJuYW1lcyI6WyJjYW52YXMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjdHgiLCJnZXRDb250ZXh0Iiwibm9pc2UiLCJuZGF0YSIsImNyZWF0ZUltYWdlRGF0YSIsInciLCJoIiwid2luZG93IiwiaSIsImJ1ZmZlcjMyIiwibGVuZ3RoIiwiTWF0aCIsInJhbmRvbSIsInB1dEltYWdlRGF0YSIsImxvb3AiLCJ0b2dnbGUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ3aWR0aCIsImlubmVyV2lkdGgiLCJoZWlnaHQiLCJpbm5lckhlaWdodCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjb250YWN0IiwiY2FyZEl0ZW0iLCJjbGFzc0xpc3QiLCJhZGQiLCJwYWdlWU9mZnNldCIsImJvZHkiLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsIlZhbmlsbGFUaWx0IiwidCIsImUiLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiTm9kZSIsImxlZnQiLCJ0b3AiLCJ0cmFuc2l0aW9uVGltZW91dCIsInVwZGF0ZUNhbGwiLCJ1cGRhdGVCaW5kIiwidXBkYXRlIiwiYmluZCIsInJlc2V0QmluZCIsInJlc2V0IiwiZWxlbWVudCIsInNldHRpbmdzIiwiZXh0ZW5kU2V0dGluZ3MiLCJyZXZlcnNlIiwiZ2xhcmUiLCJpc1NldHRpbmdUcnVlIiwiZ2xhcmVQcmVyZW5kZXIiLCJwcmVwYXJlR2xhcmUiLCJhZGRFdmVudExpc3RlbmVycyIsIl9jcmVhdGVDbGFzcyIsImtleSIsInZhbHVlIiwib25Nb3VzZUVudGVyQmluZCIsIm9uTW91c2VFbnRlciIsIm9uTW91c2VNb3ZlQmluZCIsIm9uTW91c2VNb3ZlIiwib25Nb3VzZUxlYXZlQmluZCIsIm9uTW91c2VMZWF2ZSIsIm9uV2luZG93UmVzaXplQmluZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjbGVhclRpbWVvdXQiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsInJlbW92ZUV2ZW50TGlzdGVuZXJzIiwidmFuaWxsYVRpbHQiLCJ1cGRhdGVFbGVtZW50UG9zaXRpb24iLCJ3aWxsQ2hhbmdlIiwic2V0VHJhbnNpdGlvbiIsImV2ZW50IiwicGFnZVgiLCJwYWdlWSIsInRyYW5zZm9ybSIsInBlcnNwZWN0aXZlIiwiZ2xhcmVFbGVtZW50Iiwib3BhY2l0eSIsImNsaWVudFgiLCJjbGllbnRZIiwibWluIiwibWF4IiwidGlsdFgiLCJ0b0ZpeGVkIiwidGlsdFkiLCJwZXJjZW50YWdlWCIsInBlcmNlbnRhZ2VZIiwiYW5nbGUiLCJhdGFuMiIsIlBJIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwib2Zmc2V0V2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJnZXRWYWx1ZXMiLCJheGlzIiwic2NhbGUiLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJnbGFyZUVsZW1lbnRXcmFwcGVyIiwiT2JqZWN0IiwiYXNzaWduIiwicG9zaXRpb24iLCJvdmVyZmxvdyIsInBvaW50ZXItZXZlbnRzIiwiYmFja2dyb3VuZC1pbWFnZSIsInRyYW5zZm9ybS1vcmlnaW4iLCJ1cGRhdGVHbGFyZVNpemUiLCJfdGhpcyIsInRyYW5zaXRpb24iLCJzcGVlZCIsImVhc2luZyIsInNldFRpbWVvdXQiLCJtYXgtZ2xhcmUiLCJnbGFyZS1wcmVyZW5kZXIiLCJzIiwiaGFzQXR0cmlidXRlIiwiZ2V0QXR0cmlidXRlIiwiSlNPTiIsInBhcnNlIiwiTm9kZUxpc3QiLCJzbGljZSIsImNhbGwiLCJBcnJheSIsImZvckVhY2giLCJpbml0IiwicXVlcnlTZWxlY3RvckFsbCJdLCJtYXBwaW5ncyI6IjZYQUNBLElBQUFBLE9BQUFDLFNBQUFDLGNBQUEsVUFDQUMsSUFBQUgsT0FBQUksV0FBQSxNQUFBLFNBQUFDLE1BQUFGLEdBSUEsSUFIQUgsSUFBQUEsRUFBQUEsRUFBQUEsT0FB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S0FBQXhGLEVBQUEsR0FBQXdGLEtBQUF6RixFQUFBdkIsRUFBQWdILEdBQUF6RixFQUFBeUYsUUFBQSxHQUFBcEYsS0FBQVcsUUFBQTBFLGFBQUEsYUFBQUQsR0FBQSxDQUFBLElBQUF6RixFQUFBSyxLQUFBVyxRQUFBMkUsYUFBQSxhQUFBRixHQUFBLElBQUFoSCxFQUFBZ0gsR0FBQUcsS0FBQUMsTUFBQTdGLEdBQUEsTUFBQUMsR0FBQXhCLEVBQUFnSCxHQUFBekYsUUFBQXZCLEVBQUFnSCxHQUFBeEYsRUFBQXdGLEdBQUEsT0FBQWhILEtBQUEsQ0FBQSxDQUFBaUQsSUFBQSxPQUFBQyxNQUFBLFNBQUExQixFQUFBeEIsR0FBQXdCLGFBQUFLLE9BQUFMLEVBQUEsQ0FBQUEsSUFBQUEsYUFBQTZGLFdBQUE3RixFQUFBLEdBQUE4RixNQUFBQyxLQUFBL0YsSUFBQUEsYUFBQWdHLE9BQUFoRyxFQUFBaUcsUUFBQSxTQUFBakcsR0FBQSxnQkFBQUEsSUFBQUEsRUFBQXNDLFlBQUEsSUFBQXZDLEVBQUFDLEVBQUF4QixVQUFBdUIsRUFBQSxHQUFBLE1BQUEsb0JBQUFqQyxXQUFBUyxPQUFBdUIsWUFBQUMsR0FBQW1HLEtBQUFwSSxTQUFBcUksaUJBQUEsZ0JBQUFwRyxFQUFBIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vLS0tLS0tLS0tLU5vaXNlLUJhY2tncm91bmQtLS0tLS0tLS0tLy9cclxuY29uc3QgY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5vaXNlJyk7XHJcbmNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG5jYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7Y2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7IGNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7fSk7XHJcblxyXG5mdW5jdGlvbiBub2lzZShjdHgpe1xyXG4gICAgbGV0IHcgPSBjdHguY2FudmFzLndpZHRoO1xyXG4gICAgbGV0IGggPSBjdHguY2FudmFzLmhlaWdodDtcclxuICAgIGNvbnN0IG5kYXRhID0gY3R4LmNyZWF0ZUltYWdlRGF0YSh3LCBoKTtcclxuICAgIGNvbnN0IGJ1ZmZlcjMyID0gbmV3IFVpbnQzMkFycmF5KG5kYXRhLmRhdGEuYnVmZmVyKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1ZmZlcjMyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgYnVmZmVyMzJbaV0gPSAoKDMwICogTWF0aC5yYW5kb20oKSkgfDApIDw8IDI0O1xyXG4gICAgfVxyXG4gICAgY3R4LnB1dEltYWdlRGF0YShuZGF0YSwgMCwgMCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxvb3AoKXtcclxuICAgIGxldCB0b2dnbGUgPSB0cnVlO1xyXG4gICAgdG9nZ2xlID0gIXRvZ2dsZTtcclxuICAgIGlmICh0b2dnbGUpe1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9IFxyXG4gICAgbm9pc2UoY3R4KTtcclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcclxufVxyXG5sb29wKCk7XHJcblxyXG4vLy0tLS0tLS0tLS1DYXJkSU1HIFJldmVhbCAmIGJnLWNoYW5nZXItLS0tLS0tLS0tLy9cclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsICgpID0+IHtcclxuICAgIGxldCBjYXJkSXRlbSA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhcmRpbWdfX2l0ZW0nKSlcclxuICAgIGxldCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpXHJcbiAgICBsZXQgY29udGFjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0JylcclxuICAgIGlmKHdpbmRvdy5wYWdlWU9mZnNldCAqIDMuMSA+IGNhbnZhcy5oZWlnaHQpe1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBjYXJkSXRlbS5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIGNhcmRJdGVtW2ldLmNsYXNzTGlzdC5hZGQoJ2NhcmRpbWctLXJldmVhbCcpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYod2luZG93LnBhZ2VZT2Zmc2V0ICsgMjAwID4gY2FudmFzLmhlaWdodCl7XHJcbiAgICAgICAgYm9keS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInZhcigtLWJvb2tvcHVzKVwiXHJcbiAgICB9IGVsc2V7XHJcbiAgICAgICAgYm9keS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInZhcigtLWxpZ2h0KVwiXHJcbiAgICB9XHJcbiAgICBpZih3aW5kb3cucGFnZVlPZmZzZXQgKyBjb250YWN0LnNjcm9sbEhlaWdodCAtIDQ1MCAgPiBjYW52YXMuaGVpZ2h0ICsgIGNvbnRhY3Quc2Nyb2xsSGVpZ2h0ICl7XHJcbiAgICAgICAgYm9keS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInZhcigtLWxpZ2h0KVwiXHJcbiAgICB9XHJcbn0pXHJcblxyXG5cclxuIiwidmFyIFZhbmlsbGFUaWx0PWZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LGU9e30pe2lmKCEodCBpbnN0YW5jZW9mIE5vZGUpKXRocm93XCJDYW4ndCBpbml0aWFsaXplIFZhbmlsbGFUaWx0IGJlY2F1c2UgXCIrdCtcIiBpcyBub3QgYSBOb2RlLlwiO3RoaXMud2lkdGg9bnVsbCx0aGlzLmhlaWdodD1udWxsLHRoaXMubGVmdD1udWxsLHRoaXMudG9wPW51bGwsdGhpcy50cmFuc2l0aW9uVGltZW91dD1udWxsLHRoaXMudXBkYXRlQ2FsbD1udWxsLHRoaXMudXBkYXRlQmluZD10aGlzLnVwZGF0ZS5iaW5kKHRoaXMpLHRoaXMucmVzZXRCaW5kPXRoaXMucmVzZXQuYmluZCh0aGlzKSx0aGlzLmVsZW1lbnQ9dCx0aGlzLnNldHRpbmdzPXRoaXMuZXh0ZW5kU2V0dGluZ3MoZSksdGhpcy5yZXZlcnNlPXRoaXMuc2V0dGluZ3MucmV2ZXJzZT8tMToxLHRoaXMuZ2xhcmU9dGhpcy5pc1NldHRpbmdUcnVlKHRoaXMuc2V0dGluZ3MuZ2xhcmUpLHRoaXMuZ2xhcmVQcmVyZW5kZXI9dGhpcy5pc1NldHRpbmdUcnVlKHRoaXMuc2V0dGluZ3NbXCJnbGFyZS1wcmVyZW5kZXJcIl0pLHRoaXMuZ2xhcmUmJnRoaXMucHJlcGFyZUdsYXJlKCksdGhpcy5hZGRFdmVudExpc3RlbmVycygpfWlzU2V0dGluZ1RydWUodCl7cmV0dXJuXCJcIj09PXR8fCEwPT09dHx8MT09PXR9YWRkRXZlbnRMaXN0ZW5lcnMoKXt0aGlzLm9uTW91c2VFbnRlckJpbmQ9dGhpcy5vbk1vdXNlRW50ZXIuYmluZCh0aGlzKSx0aGlzLm9uTW91c2VNb3ZlQmluZD10aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcyksdGhpcy5vbk1vdXNlTGVhdmVCaW5kPXRoaXMub25Nb3VzZUxlYXZlLmJpbmQodGhpcyksdGhpcy5vbldpbmRvd1Jlc2l6ZUJpbmQ9dGhpcy5vbldpbmRvd1Jlc2l6ZUJpbmQuYmluZCh0aGlzKSx0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIix0aGlzLm9uTW91c2VFbnRlckJpbmQpLHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsdGhpcy5vbk1vdXNlTW92ZUJpbmQpLHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLHRoaXMub25Nb3VzZUxlYXZlQmluZCksdGhpcy5nbGFyZSYmd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLm9uV2luZG93UmVzaXplQmluZCl9cmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKXt0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIix0aGlzLm9uTW91c2VFbnRlckJpbmQpLHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsdGhpcy5vbk1vdXNlTW92ZUJpbmQpLHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLHRoaXMub25Nb3VzZUxlYXZlQmluZCksdGhpcy5nbGFyZSYmd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLm9uV2luZG93UmVzaXplQmluZCl9ZGVzdHJveSgpe2NsZWFyVGltZW91dCh0aGlzLnRyYW5zaXRpb25UaW1lb3V0KSxudWxsIT09dGhpcy51cGRhdGVDYWxsJiZjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnVwZGF0ZUNhbGwpLHRoaXMucmVzZXQoKSx0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKCksdGhpcy5lbGVtZW50LnZhbmlsbGFUaWx0PW51bGwsZGVsZXRlIHRoaXMuZWxlbWVudC52YW5pbGxhVGlsdCx0aGlzLmVsZW1lbnQ9bnVsbH1vbk1vdXNlRW50ZXIodCl7dGhpcy51cGRhdGVFbGVtZW50UG9zaXRpb24oKSx0aGlzLmVsZW1lbnQuc3R5bGUud2lsbENoYW5nZT1cInRyYW5zZm9ybVwiLHRoaXMuc2V0VHJhbnNpdGlvbigpfW9uTW91c2VNb3ZlKHQpe251bGwhPT10aGlzLnVwZGF0ZUNhbGwmJmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMudXBkYXRlQ2FsbCksdGhpcy5ldmVudD10LHRoaXMudXBkYXRlQ2FsbD1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy51cGRhdGVCaW5kKX1vbk1vdXNlTGVhdmUodCl7dGhpcy5zZXRUcmFuc2l0aW9uKCksdGhpcy5zZXR0aW5ncy5yZXNldCYmcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMucmVzZXRCaW5kKX1yZXNldCgpe3RoaXMuZXZlbnQ9e3BhZ2VYOnRoaXMubGVmdCt0aGlzLndpZHRoLzIscGFnZVk6dGhpcy50b3ArdGhpcy5oZWlnaHQvMn0sdGhpcy5lbGVtZW50LnN0eWxlLnRyYW5zZm9ybT1cInBlcnNwZWN0aXZlKFwiK3RoaXMuc2V0dGluZ3MucGVyc3BlY3RpdmUrXCJweCkgcm90YXRlWCgwZGVnKSByb3RhdGVZKDBkZWcpIHNjYWxlM2QoMSwgMSwgMSlcIix0aGlzLmdsYXJlJiYodGhpcy5nbGFyZUVsZW1lbnQuc3R5bGUudHJhbnNmb3JtPVwicm90YXRlKDE4MGRlZykgdHJhbnNsYXRlKC01MCUsIC01MCUpXCIsdGhpcy5nbGFyZUVsZW1lbnQuc3R5bGUub3BhY2l0eT1cIjBcIil9Z2V0VmFsdWVzKCl7bGV0IHQ9KHRoaXMuZXZlbnQuY2xpZW50WC10aGlzLmxlZnQpL3RoaXMud2lkdGgsZT0odGhpcy5ldmVudC5jbGllbnRZLXRoaXMudG9wKS90aGlzLmhlaWdodDtyZXR1cm4gdD1NYXRoLm1pbihNYXRoLm1heCh0LDApLDEpLGU9TWF0aC5taW4oTWF0aC5tYXgoZSwwKSwxKSx7dGlsdFg6KHRoaXMucmV2ZXJzZSoodGhpcy5zZXR0aW5ncy5tYXgvMi10KnRoaXMuc2V0dGluZ3MubWF4KSkudG9GaXhlZCgyKSx0aWx0WToodGhpcy5yZXZlcnNlKihlKnRoaXMuc2V0dGluZ3MubWF4LXRoaXMuc2V0dGluZ3MubWF4LzIpKS50b0ZpeGVkKDIpLHBlcmNlbnRhZ2VYOjEwMCp0LHBlcmNlbnRhZ2VZOjEwMCplLGFuZ2xlOk1hdGguYXRhbjIodGhpcy5ldmVudC5jbGllbnRYLSh0aGlzLmxlZnQrdGhpcy53aWR0aC8yKSwtKHRoaXMuZXZlbnQuY2xpZW50WS0odGhpcy50b3ArdGhpcy5oZWlnaHQvMikpKSooMTgwL01hdGguUEkpfX11cGRhdGVFbGVtZW50UG9zaXRpb24oKXtsZXQgdD10aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dGhpcy53aWR0aD10aGlzLmVsZW1lbnQub2Zmc2V0V2lkdGgsdGhpcy5oZWlnaHQ9dGhpcy5lbGVtZW50Lm9mZnNldEhlaWdodCx0aGlzLmxlZnQ9dC5sZWZ0LHRoaXMudG9wPXQudG9wfXVwZGF0ZSgpe2xldCB0PXRoaXMuZ2V0VmFsdWVzKCk7dGhpcy5lbGVtZW50LnN0eWxlLnRyYW5zZm9ybT1cInBlcnNwZWN0aXZlKFwiK3RoaXMuc2V0dGluZ3MucGVyc3BlY3RpdmUrXCJweCkgcm90YXRlWChcIisoXCJ4XCI9PT10aGlzLnNldHRpbmdzLmF4aXM/MDp0LnRpbHRZKStcImRlZykgcm90YXRlWShcIisoXCJ5XCI9PT10aGlzLnNldHRpbmdzLmF4aXM/MDp0LnRpbHRYKStcImRlZykgc2NhbGUzZChcIit0aGlzLnNldHRpbmdzLnNjYWxlK1wiLCBcIit0aGlzLnNldHRpbmdzLnNjYWxlK1wiLCBcIit0aGlzLnNldHRpbmdzLnNjYWxlK1wiKVwiLHRoaXMuZ2xhcmUmJih0aGlzLmdsYXJlRWxlbWVudC5zdHlsZS50cmFuc2Zvcm09YHJvdGF0ZSgke3QuYW5nbGV9ZGVnKSB0cmFuc2xhdGUoLTUwJSwgLTUwJSlgLHRoaXMuZ2xhcmVFbGVtZW50LnN0eWxlLm9wYWNpdHk9YCR7dC5wZXJjZW50YWdlWSp0aGlzLnNldHRpbmdzW1wibWF4LWdsYXJlXCJdLzEwMH1gKSx0aGlzLmVsZW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJ0aWx0Q2hhbmdlXCIse2RldGFpbDp0fSkpLHRoaXMudXBkYXRlQ2FsbD1udWxsfXByZXBhcmVHbGFyZSgpe2lmKCF0aGlzLmdsYXJlUHJlcmVuZGVyKXtjb25zdCB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dC5jbGFzc0xpc3QuYWRkKFwianMtdGlsdC1nbGFyZVwiKTtjb25zdCBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZS5jbGFzc0xpc3QuYWRkKFwianMtdGlsdC1nbGFyZS1pbm5lclwiKSx0LmFwcGVuZENoaWxkKGUpLHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0KX10aGlzLmdsYXJlRWxlbWVudFdyYXBwZXI9dGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuanMtdGlsdC1nbGFyZVwiKSx0aGlzLmdsYXJlRWxlbWVudD10aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5qcy10aWx0LWdsYXJlLWlubmVyXCIpLHRoaXMuZ2xhcmVQcmVyZW5kZXJ8fChPYmplY3QuYXNzaWduKHRoaXMuZ2xhcmVFbGVtZW50V3JhcHBlci5zdHlsZSx7cG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDpcIjBcIixsZWZ0OlwiMFwiLHdpZHRoOlwiMTAwJVwiLGhlaWdodDpcIjEwMCVcIixvdmVyZmxvdzpcImhpZGRlblwifSksT2JqZWN0LmFzc2lnbih0aGlzLmdsYXJlRWxlbWVudC5zdHlsZSx7cG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDpcIjUwJVwiLGxlZnQ6XCI1MCVcIixcInBvaW50ZXItZXZlbnRzXCI6XCJub25lXCIsXCJiYWNrZ3JvdW5kLWltYWdlXCI6YGxpbmVhci1ncmFkaWVudCgwZGVnLCByZ2JhKDI1NSwyNTUsMjU1LDApIDAlLCByZ2JhKDI1NSwyNTUsMjU1LDEpIDEwMCUpYCx3aWR0aDpgJHsyKnRoaXMuZWxlbWVudC5vZmZzZXRXaWR0aH1weGAsaGVpZ2h0OmAkezIqdGhpcy5lbGVtZW50Lm9mZnNldFdpZHRofXB4YCx0cmFuc2Zvcm06XCJyb3RhdGUoMTgwZGVnKSB0cmFuc2xhdGUoLTUwJSwgLTUwJSlcIixcInRyYW5zZm9ybS1vcmlnaW5cIjpcIjAlIDAlXCIsb3BhY2l0eTpcIjBcIn0pKX11cGRhdGVHbGFyZVNpemUoKXtPYmplY3QuYXNzaWduKHRoaXMuZ2xhcmVFbGVtZW50LnN0eWxlLHt3aWR0aDpgJHsyKnRoaXMuZWxlbWVudC5vZmZzZXRXaWR0aH1gLGhlaWdodDpgJHsyKnRoaXMuZWxlbWVudC5vZmZzZXRXaWR0aH1gfSl9b25XaW5kb3dSZXNpemVCaW5kKCl7dGhpcy51cGRhdGVHbGFyZVNpemUoKX1zZXRUcmFuc2l0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMudHJhbnNpdGlvblRpbWVvdXQpLHRoaXMuZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uPXRoaXMuc2V0dGluZ3Muc3BlZWQrXCJtcyBcIit0aGlzLnNldHRpbmdzLmVhc2luZyx0aGlzLmdsYXJlJiYodGhpcy5nbGFyZUVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbj1gb3BhY2l0eSAke3RoaXMuc2V0dGluZ3Muc3BlZWR9bXMgJHt0aGlzLnNldHRpbmdzLmVhc2luZ31gKSx0aGlzLnRyYW5zaXRpb25UaW1lb3V0PXNldFRpbWVvdXQoKCk9Pnt0aGlzLmVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbj1cIlwiO3RoaXMuZ2xhcmUmJih0aGlzLmdsYXJlRWxlbWVudC5zdHlsZS50cmFuc2l0aW9uPVwiXCIpfSx0aGlzLnNldHRpbmdzLnNwZWVkKX1leHRlbmRTZXR0aW5ncyh0KXtsZXQgZT17cmV2ZXJzZTohMSxtYXg6MzUscGVyc3BlY3RpdmU6MWUzLGVhc2luZzpcImN1YmljLWJlemllciguMDMsLjk4LC41MiwuOTkpXCIsc2NhbGU6XCIxXCIsc3BlZWQ6XCIzMDBcIix0cmFuc2l0aW9uOiEwLGF4aXM6bnVsbCxnbGFyZTohMSxcIm1heC1nbGFyZVwiOjEsXCJnbGFyZS1wcmVyZW5kZXJcIjohMSxyZXNldDohMH0saT17fTtmb3IodmFyIHMgaW4gZSlpZihzIGluIHQpaVtzXT10W3NdO2Vsc2UgaWYodGhpcy5lbGVtZW50Lmhhc0F0dHJpYnV0ZShcImRhdGEtdGlsdC1cIitzKSl7bGV0IHQ9dGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtdGlsdC1cIitzKTt0cnl7aVtzXT1KU09OLnBhcnNlKHQpfWNhdGNoKGUpe2lbc109dH19ZWxzZSBpW3NdPWVbc107cmV0dXJuIGl9c3RhdGljIGluaXQoZSxpKXtlIGluc3RhbmNlb2YgTm9kZSYmKGU9W2VdKSxlIGluc3RhbmNlb2YgTm9kZUxpc3QmJihlPVtdLnNsaWNlLmNhbGwoZSkpLGUgaW5zdGFuY2VvZiBBcnJheSYmZS5mb3JFYWNoKGU9PntcInZhbmlsbGFUaWx0XCJpbiBlfHwoZS52YW5pbGxhVGlsdD1uZXcgdChlLGkpKX0pfX1yZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQmJih3aW5kb3cuVmFuaWxsYVRpbHQ9dCx0LmluaXQoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLXRpbHRdXCIpKSksdH0oKTsiXX0=
